<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      lang="es">

<h:head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>Agregar Usuario - Romar Natural</title>

    <!-- Bootstrap, Iconos y fuentes -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" />
    <link href="https://unpkg.com/ionicons@4.5.10-0/dist/css/ionicons.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Mulish:ital,wght@0,300;1,300&amp;display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="#{request.contextPath}/resources/css/style.css" />
</h:head>

<h:body>

    <div class="d-flex" style="min-height: 100vh;">
        <!-- SIDEBAR -->
        <div id="sidebar-container" class="bg-primary text-light">
            <div class="logo p-3">
                <h4 class="text-light font-weight-bold text-center mb-0">Romar Natural</h4>
            </div>
            <div class="menu mt-4">
                <h:link outcome="/admin.xhtml" styleClass="d-block text-light p-3">
                    <i class="icon ion-md-apps mr-2 lead"></i>Dashboard
                </h:link>
                <h:link outcome="/listarusuarios.xhtml" styleClass="d-block text-light p-3 active">
                    <i class="icon ion-md-contacts mr-2 lead"></i>Usuarios
                </h:link>
                <h:link outcome="/proveedor/index.xhtml" styleClass="d-block text-light p-3">
                    <i class="icon ion-md-cube mr-2 lead"></i>Proveedores
                </h:link>
                <h:link outcome="/ventas/listarVentas.xhtml" styleClass="d-block text-light p-3">
                    <i class="icon ion-md-cart mr-2 lead"></i>Ventas
                </h:link>
                <h:link outcome="/producto/index.xhtml" styleClass="d-block text-light p-3">
                    <i class="icon ion-md-folder mr-2 lead"></i>Productos
                </h:link>
                <h:link outcome="/mensajeria/listarMensajeria.xhtml" styleClass="d-block text-light p-3">
                    <i class="icon ion-md-paper-plane mr-2 lead"></i>Mensajería
                </h:link>
                <h:link outcome="/envios/listarEnvios" styleClass="d-block text-light p-3">
                    <i class="icon ion-md-send mr-2 lead"></i>Envíos
                </h:link>
            </div>
        </div>

        <!-- CONTENIDO PRINCIPAL -->
        <div class="flex-grow-1">
            <!-- NAVBAR -->
            <nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom shadow-sm">
                <div class="container-fluid">
                    <span class="navbar-brand font-weight-bold text-success">Panel de Administración</span>
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown">Administrador</a>
                            <div class="dropdown-menu dropdown-menu-right">
                                <h:form>
                                    <p:commandButton value="Cerrar Sesión"
                                                     action="#{usuariosBean.cerrarSesion}"
                                                     ajax="false"
                                                     styleClass="dropdown-item text-danger"
                                                     icon="pi pi-sign-out" />
                                </h:form>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- FORMULARIO AGREGAR USUARIO -->
            <div class="container my-5">
                <div class="card shadow-sm border-0">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0"><i class="icon ion-md-person-add mr-2"></i>Agregar Usuario</h5>
                    </div>
                    <div class="card-body">
                        <h:form id="formAgregar">
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <h:outputLabel for="num_identificacion" value="Identificación:" />
                                    <p:inputText id="num_identificacion"
                                                 value="#{usuariosBean.usuarios.num_identificacion}"
                                                 required="true"
                                                 styleClass="form-control" />
                                </div>

                                <div class="form-group col-md-6">
                                    <h:outputLabel for="tipo_usu" value="Tipo Usuario:" />
                                    <p:selectOneMenu id="tipo_usu"
                                                     value="#{usuariosBean.usuarios.tipo_usu}"
                                                     required="true"
                                                     styleClass="form-control">
                                        <f:selectItem itemLabel="Seleccione un tipo" itemValue="" noSelectionOption="true" />
                                        <f:selectItem itemLabel="Administrador" itemValue="administrador" />
                                        <f:selectItem itemLabel="Operario" itemValue="operario" />
                                    </p:selectOneMenu>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <h:outputLabel for="clave" value="Clave:" />
                                    <p:password id="clave"
                                                value="#{usuariosBean.usuarios.clave}"
                                                required="true"
                                                styleClass="form-control" />
                                </div>

                                <div class="form-group col-md-6">
                                    <h:outputLabel for="correo" value="Correo:" />
                                    <p:inputText id="correo"
                                                 value="#{usuariosBean.usuarios.correo}"
                                                 required="true"
                                                 styleClass="form-control" />
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <h:outputLabel for="p_nombre" value="Primer Nombre:" />
                                    <p:inputText id="p_nombre"
                                                 value="#{usuariosBean.usuarios.p_nombre}"
                                                 required="true"
                                                 styleClass="form-control" />
                                </div>

                                <div class="form-group col-md-6">
                                    <h:outputLabel for="s_nombre" value="Segundo Nombre:" />
                                    <p:inputText id="s_nombre"
                                                 value="#{usuariosBean.usuarios.s_nombre}"
                                                 styleClass="form-control" />
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <h:outputLabel for="p_apellido" value="Primer Apellido:" />
                                    <p:inputText id="p_apellido"
                                                 value="#{usuariosBean.usuarios.p_apellido}"
                                                 required="true"
                                                 styleClass="form-control" />
                                </div>

                                <div class="form-group col-md-6">
                                    <h:outputLabel for="s_apellido" value="Segundo Apellido:" />
                                    <p:inputText id="s_apellido"
                                                 value="#{usuariosBean.usuarios.s_apellido}"
                                                 styleClass="form-control" />
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <h:outputLabel for="telefono" value="Teléfono:" />
                                    <p:inputText id="telefono"
                                                 value="#{usuariosBean.usuarios.telefono}"
                                                 required="true"
                                                 styleClass="form-control" />
                                </div>

                                <div class="form-group col-md-6">
                                    <h:outputLabel for="salario" value="Salario:" />
                                    <p:inputText id="salario"
                                                 value="#{usuariosBean.usuarios.salario}"
                                                 required="true"
                                                 styleClass="form-control" />
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <h:outputLabel for="fecha_nacimiento" value="Fecha Nacimiento:" />
                                    <p:datePicker id="fecha_nacimiento"
                                                  value="#{usuariosBean.usuarios.fecha_nacimiento}"
                                                  pattern="yyyy-MM-dd"
                                                  styleClass="form-control" />
                                </div>

                                <div class="form-group col-md-6">
                                    <h:outputLabel for="direccion" value="Dirección:" />
                                    <p:inputText id="direccion"
                                                 value="#{usuariosBean.usuarios.direccion}"
                                                 styleClass="form-control" />
                                </div>
                            </div>

                            <div class="text-center mt-4">
                                <p:commandButton value="Guardar"
                                                 icon="pi pi-save"
                                                 action="#{usuariosBean.guardarUsuario}"
                                                 ajax="false"
                                                 styleClass="btn btn-success px-5 mr-2" />
                                <p:commandButton value="Volver"
                                                 icon="pi pi-arrow-left"
                                                 action="#{usuariosBean.volverListado}"
                                                 ajax="false"
                                                 immediate="true"
                                                 styleClass="btn btn-secondary px-5" />
                            </div>
                        </h:form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"></script>

</h:body>
</html>
